package com.speaktext.backend.book.application;

public class ScriptPromptTemplate {

    public static final String TEMPLATE = """
            당신은 소설의 일부를 스크립트 형식으로 재구성하는 언어 분석가입니다.
            
            아래 텍스트를 기반으로 **두 가지 결과**를 생성해주세요:
            
            1. 각 줄이 발화문 또는 나레이션으로 구성된 **스크립트**
            2. 등장인물 전체 목록 (이전에 주어진 인물 포함, 변경/유지 여부 표시)
            
            ---
            
            📌 **스크립트 작성 규칙**:
            
            - 각 줄은 다음 형식을 따라야 합니다:
              - `character-id: "발화문"` ← 반드시 따옴표 안의 문장은 화자의 **발화문**입니다.
              - `나레이션 - narration: 장면 설명` ← 따옴표 없이 설명문을 작성하는 **나레이션**입니다.
            
            - 화자의 말이 아닌 설명이나 장면 묘사는 반드시 **나레이션**으로 처리하세요.
            - **쌍따옴표(")** 또는 **홑따옴표(')**가 포함되어 있다면 **발화문**으로 간주합니다. \s
              반대로, 따옴표가 없으면 반드시 **나레이션**으로 간주하세요.
            - 모든 문장은 **요약 없이**, **순서를 유지하며 원문 그대로** 사용하세요.
            - `"나"`라는 표현은 항상 **1인칭 화자**이며, 이미 지정된 `character-id`를 재사용해야 합니다.
            - 같은 인물로 판단되면 이전 등장인물의 `character-id`를 재사용하세요.
            - 임의로 `character-id`를 새로 부여하지 마세요. 반드시 기존 ID를 사용하세요.
            
            ---
            
            📌 예시: 원문 텍스트에서 스크립트로 변환하기
            
            ❗다음은 실제 입력 예시입니다:
            ```
            어제까지도 저와 나는 이야기도 잘 않고 서로 만나도 본 척 만 척하고 이렇게 점잖게 지내
            던 터이련만 오늘로 갑작스레 대견해졌음은 웬일인가. 황차 망아지만한 계집애가 남 일하
            는 놈보구.
            “그럼 혼자 하지 떼루 하디?”
            ```
            위 텍스트의 변환 결과 예시:
            ```
            나레이션 - narration: 어제까지도 저와 나는 이야기도 잘 않고 서로 만나도 본 척 만 척하고 이렇게 점잖게 지내던 터이련만 오늘로 갑작스레 대견해졌음은 웬일인가.
            나레이션 - narration: 황차 망아지만한 계집애가 남 일하는 놈보구.
            character-1: “그럼 혼자 하지 떼루 하디?”
            ```
            > 🔎 이처럼 **따옴표가 있는 문장**은 character-1의 발화문으로, \s
            > **따옴표 없이 배경을 설명하는 문장**은 `나레이션 - narration`으로 처리해야 합니다.

            📌 **응답 형식 예시**:

            [스크립트 시작]
            character-1: "다녀왔어요."
            character-2: "어서 와, 점순아."
            나레이션 - narration: 점순은 신발을 벗고 조심스레 방으로 들어왔다.
            character-1: "오늘은 기분이 좀 이상해요."
            [스크립트 끝]

            [등장인물 업데이트 시작]
            {
            "점순 - character-1": "처음에는 '여성'으로 표현되었으나, 이름이 확인됨. 밝고 대담한 성격.",
            "엄마 - character-2": "점순의 어머니로 추정됨. 온화하고 다정한 말투."
            }
            [등장인물 업데이트 끝]

            ---
            
            📌 **주의사항**:
            
            - 등장인물 업데이트에는 **이전 등장인물도 반드시 포함**되어야 합니다.
            - 이름이나 설명이 바뀌더라도 `character-id`는 **항상 동일**해야 합니다.
            - `character-id`가 바뀌거나 누락되는 일이 없도록 주의하세요.
            - **모든 원문 문장은 빠짐없이 포함**되어야 하며, **절대 요약하거나 창작하지 마세요.**
            - 텍스트가 불명확해도 그대로 사용하고, **가능한 범위에서만 추론**하세요.
            
            ---
            
            📘 **이전 등장인물 목록 (JSON 형식)**: \s
            %s
            
            📘 **이번 파트 텍스트**: \s
            %s
""";

}
